# 🚀 快速启动指南 - A股期货情报终端 Pro

## 一键启动

### 1. 安装依赖
```bash
cd streamlite-stock
pip install -r requirements.txt
```

### 2. 配置数据库（可选）
如需使用 **善庄狙击** 和 **市场监控** 功能，请配置 `.env` 文件：

```bash
# .env 文件已存在，确认配置正确
cat .env
```

### 3. 启动应用
```bash
streamlit run furtures_terminal.py
```

### 4. 访问界面
浏览器自动打开: `http://localhost:8501`

## 功能模块

### ⚡ 股票快讯
- 实时抓取财联社、东方财富快讯
- NLP情感分析（做多/做空/观望）
- 关键词提取

### 🏗️ 期货快讯
- 上海金属网期货资讯
- 智能筛选期货相关内容
- 多数据源融合

### 🧠 深度研报
- 微信公众号RSS订阅
- 精选投研文章
- 一键跳转阅读

### 🔥 涨停天梯
- 实时涨停股票池
- 连板高度统计
- 封单强度分析
- 涨停原因追踪

### 📈 形态选股
- **数据源**: Baostock历史数据
- **功能**: K线形态相似度匹配
- **算法**: 余弦相似度 + 归一化
- **用法**: 
  1. 点击 "启动数据更新" 下载全市场数据（首次使用）
  2. 定义模板（股票代码或手动输入）
  3. 设置相似度阈值（建议85%）
  4. 开始扫描

### 🎯 善庄狙击（新增）
- **核心功能**: 追踪高胜率游资潜伏标的
- **数据源**: PostgreSQL龙虎榜数据
- **特色**: 
  - 自动计算游资T+2胜率
  - 多因子评分（100分制）
  - 智能生成买卖策略
  - 按胜率+评分排序
- **使用条件**: 需配置数据库连接

### 🤖 模拟交易
- **股票/期货网格交易**
- **ATR自适应网格间距**
- **ADX趋势风控**
- **实时盈亏监控**

## 无需数据库配置的功能

以下功能开箱即用，无需任何配置：
- ✅ 股票快讯
- ✅ 期货快讯
- ✅ 深度研报
- ✅ 涨停天梯
- ✅ 形态选股（需首次更新数据）
- ✅ 模拟交易

## 需要数据库的功能

以下功能需要配置 PostgreSQL 数据库：
- 🎯 善庄狙击（需要 `lhb_detail` 表）
- 📊 市场监控指标（需要 `market_monitoring` 表）

如果没有配置数据库，这些模块会显示提示信息，不影响其他功能使用。

## 常见问题

### Q1: 启动后无法加载数据？
**A**: 部分API有访问频率限制，等待几秒后点击"刷新全站数据"。

### Q2: 形态选股显示"数据库为空"？
**A**: 首次使用需要在 "本地数据库管理" 区域点击 "启动数据更新"，下载全市场历史数据（约需10-15分钟）。

### Q3: 善庄狙击显示"无符合条件的标的"？
**A**: 可能原因：
1. 数据库未配置
2. 最近5天无高胜率游资潜伏
3. 竞价金额过小
4. 非交易时段

### Q4: 微信文章无法加载？
**A**: RSS源可能不稳定，系统会自动切换备用源或显示模拟数据。

### Q5: 涨停数据为空？
**A**: 
- 非交易时段无数据
- API访问限制，稍后重试
- 当日确实无涨停股票

## 性能优化建议

1. **缓存设置**: 应用已启用Streamlit缓存，数据会自动刷新
2. **网络环境**: 建议使用稳定的网络连接
3. **浏览器**: 推荐使用Chrome或Edge浏览器
4. **内存**: 建议可用内存 ≥ 4GB

## 数据更新频率

| 模块 | 刷新频率 | 说明 |
|------|---------|------|
| 股票快讯 | 60秒 | TTL缓存 |
| 期货快讯 | 60秒 | TTL缓存 |
| 微信文章 | 10分钟 | TTL缓存 |
| 涨停天梯 | 15秒 | 实时更新 |
| 市场监控 | 5分钟 | 数据库查询 |
| 善庄狙击 | 手动刷新 | 点击按钮触发 |

## 技术栈

- **前端框架**: Streamlit 1.28+
- **数据源**: AkShare, Baostock
- **数据库**: PostgreSQL + SQLAlchemy
- **本地存储**: SQLite
- **NLP**: Jieba分词
- **可视化**: Plotly
- **HTTP**: Requests + BeautifulSoup

## 支持与反馈

- 📖 详细文档: 查看 `SMART_MONEY_SNIPER_README.md`
- 🐛 问题反馈: 查看控制台错误信息
- 💡 功能建议: 欢迎提出改进意见

## 免责声明

本系统仅供学习研究使用，不构成任何投资建议。
投资有风险，入市需谨慎。

---

**Powered by Kilo Code AI Assistant** | Version 5.0 | 2025-12-23